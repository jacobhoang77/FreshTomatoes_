"use strict";(self.webpackChunkfreshtomatoes_=self.webpackChunkfreshtomatoes_||[]).push([[914],{914:(e,a,t)=>{t.r(a),t.d(a,{default:()=>n});var i=t(43),o=t(213),s=t(579);const c="https://api.themoviedb.org/3",n=()=>{const[e,a]=(0,i.useState)(null),[t,n]=(0,i.useState)(""),[l,r]=(0,i.useState)(!1),[h,d]=(0,i.useState)(null),[u,m]=(0,i.useState)(!1),[j,p]=(0,i.useState)(0),y=async()=>{r(!0),d(null);try{const e=["now_playing","popular","top_rated","upcoming"],t=e[Math.floor(Math.random()*e.length)],i=await o.A.get("".concat(c,"/movie/").concat(t),{params:{language:"en-US",page:Math.floor(10*Math.random())+1},headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJmNzFhNjMwNTg3ODFiNDFiZTY3OTkyZjllNzdmNmRhNCIsIm5iZiI6MTcyMjI5MjgyNS4yODg3MDQsInN1YiI6IjY2YTgxOWUwNmE3ZTFhMDE5MjhjOWRjMSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.c27yQxSBea0btlLS2XPKENd5yHHlP4K5sWdLFVa0m0I"}}),s=i.data.results[Math.floor(Math.random()*i.data.results.length)];a(s);const l=(await o.A.get("".concat(c,"/movie/").concat(s.id,"/videos"),{params:{language:"en-US"},headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJmNzFhNjMwNTg3ODFiNDFiZTY3OTkyZjllNzdmNmRhNCIsIm5iZiI6MTcyMjI5MjgyNS4yODg3MDQsInN1YiI6IjY2YTgxOWUwNmE3ZTFhMDE5MjhjOWRjMSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.c27yQxSBea0btlLS2XPKENd5yHHlP4K5sWdLFVa0m0I"}})).data.results.find((e=>"Trailer"===e.type&&"YouTube"===e.site));n(l?"https://www.youtube.com/embed/".concat(l.key):"")}catch(h){d("Failed to load a movie. Please try again.")}finally{r(!1),m(!0)}},I=e=>{j>=2?"trailer"===e?y():"quiz"===e&&(window.location.href="/quiz"):p(j+1)},N=e=>{if(j<2){const a=e.target,t=(a.offsetWidth,a.offsetHeight,-220),i=230,o=-240,s=200,c=Math.random()*(i-t)+t,n=Math.random()*(s-o)+o;a.style.transform="translate(".concat(c,"px, ").concat(n,"px)")}};return l?(0,s.jsx)("div",{children:"Loading..."}):h?(0,s.jsx)("div",{children:h}):(0,s.jsxs)("div",{className:"surprise-me",children:[(0,s.jsxs)("div",{className:"choice-container",children:[(0,s.jsx)("button",{className:"choice-button",onClick:()=>I("trailer"),onMouseEnter:N,children:"TRAILER TIME"}),(0,s.jsx)("button",{className:"choice-button",onClick:()=>I("quiz"),onMouseEnter:N,children:"QUIZ OR QUIT"})]}),(0,s.jsxs)("div",{className:"movie-details ".concat(u?"show-movie-details":""),children:[e&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("h2",{children:e.title}),(0,s.jsx)("p",{children:e.overview}),t?(0,s.jsx)("div",{className:"video-container",children:(0,s.jsx)("iframe",{src:t,title:"Movie Trailer",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}):(0,s.jsx)("p",{children:"Trailer not available."})]}),(0,s.jsx)("button",{onClick:y,children:"Surprise Me Again!"})]})]})}}}]);
//# sourceMappingURL=914.7056c21a.chunk.js.map