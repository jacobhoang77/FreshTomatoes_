"use strict";(self.webpackChunkfreshtomatoes_=self.webpackChunkfreshtomatoes_||[]).push([[957],{957:(e,a,t)=>{t.r(a),t.d(a,{default:()=>n});var s=t(43),r=t(213);const i=async e=>{let a=[];switch(e){case"top_rated":a.push("/movie/top_rated");break;case"popular":a.push("/movie/popular");break;case"now_playing":a.push("/movie/now_playing");break;case"upcoming":a.push("/movie/upcoming");break;case"all":a=["/movie/top_rated","/movie/popular","/movie/now_playing","/movie/upcoming"];break;default:throw new Error("Unknown category")}try{const e=a.map((e=>r.A.get("".concat("https://api.themoviedb.org/3").concat(e),{params:{language:"en-US",page:"1"},headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJmNzFhNjMwNTg3ODFiNDFiZTY3OTkyZjllNzdmNmRhNCIsIm5iZiI6MTcyMzY4OTI1MC45NjU4MjgsInN1YiI6IjY2YTgxOWUwNmE3ZTFhMDE5MjhjOWRjMSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.i31dY9qPIcynkPZEizd6b4LrSYHB5h5AbnTTr6pYHs4"}}))),t=await Promise.all(e);return t.flatMap((e=>e.data.results))}catch(t){return console.error("Error fetching data from TMDB:",t),[]}};var l=t(579);const o=()=>{const[e,a]=(0,s.useState)(""),[t,r]=(0,s.useState)([]),[o,n]=(0,s.useState)([]),[c,h]=(0,s.useState)(!1),[p,u]=(0,s.useState)(null),[m,d]=(0,s.useState)("popular");(0,s.useEffect)((()=>{(async()=>{h(!0),u(null);try{const e=await i(m);r(e),n(e)}catch(e){u(e.message)}finally{h(!1)}})()}),[m]);return(0,l.jsxs)("div",{children:[(0,l.jsxs)("form",{onSubmit:a=>{a.preventDefault(),h(!0),u(null);const s=t.filter((a=>a.title.toLowerCase().includes(e.toLowerCase())));n(s),h(!1)},children:[(0,l.jsx)("label",{htmlFor:"query",children:"Movie Name:"}),(0,l.jsx)("input",{type:"text",name:"query",placeholder:"Search for a movie",value:e,onChange:e=>a(e.target.value)}),(0,l.jsx)("button",{type:"submit",children:"Search"})]}),(0,l.jsxs)("div",{className:"filters",children:[(0,l.jsx)("label",{htmlFor:"category",children:"FILTER:"}),(0,l.jsxs)("select",{name:"category",value:m,onChange:e=>d(e.target.value),children:[(0,l.jsx)("option",{value:"all",children:"ALL"}),(0,l.jsx)("option",{value:"top_rated",children:"TOP RATED"}),(0,l.jsx)("option",{value:"popular",children:"POPULAR"}),(0,l.jsx)("option",{value:"now_playing",children:"NOW PLAYING"}),(0,l.jsx)("option",{value:"upcoming",children:"UPCOMING"})]})]}),c&&(0,l.jsx)("p",{children:"Loading..."}),p&&(0,l.jsx)("p",{children:p}),(0,l.jsx)("div",{className:"movie-results",children:o.length>0&&(0,l.jsx)("ul",{children:o.map((e=>(0,l.jsxs)("li",{className:"movie-card",children:[(0,l.jsx)("img",{src:"https://image.tmdb.org/t/p/w200/".concat(e.poster_path),alt:"".concat(e.title," Poster"),className:"movie-poster"}),(0,l.jsxs)("div",{className:"movie-info",children:[(0,l.jsx)("h3",{children:e.title}),(0,l.jsx)("p",{children:e.overview})]})]},e.id)))})})]})};const n=function(){return(0,l.jsxs)("div",{className:"search",children:[(0,l.jsx)("h2",{className:"search-title",children:"SEARCH FOR MOVIES:"}),(0,l.jsx)(o,{})]})}}}]);
//# sourceMappingURL=957.369c87a1.chunk.js.map