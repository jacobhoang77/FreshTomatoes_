{"version":3,"file":"static/js/914.7056c21a.chunk.js","mappings":"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","sources":["SurpriseMe.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport './SurpriseMe.css';\r\n\r\nconst API_KEY = 'f71a63058781b41be67992f9e77f6da4';\r\nconst BASE_URL = 'https://api.themoviedb.org/3';\r\n\r\nconst SurpriseMe = () => {\r\n  const [movie, setMovie] = useState(null);\r\n  const [trailerUrl, setTrailerUrl] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [showDetails, setShowDetails] = useState(false);\r\n  const [attempts, setAttempts] = useState(0);\r\n\r\n  const fetchRandomMovie = async () => {\r\n    setLoading(true);\r\n    setError(null);\r\n\r\n    try {\r\n      const categories = ['now_playing', 'popular', 'top_rated', 'upcoming'];\r\n      const randomCategory = categories[Math.floor(Math.random() * categories.length)];\r\n\r\n      const response = await axios.get(`${BASE_URL}/movie/${randomCategory}`, {\r\n        params: { language: 'en-US', page: Math.floor(Math.random() * 10) + 1 },\r\n        headers: {\r\n          accept: 'application/json',\r\n          Authorization: `Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJmNzFhNjMwNTg3ODFiNDFiZTY3OTkyZjllNzdmNmRhNCIsIm5iZiI6MTcyMjI5MjgyNS4yODg3MDQsInN1YiI6IjY2YTgxOWUwNmE3ZTFhMDE5MjhjOWRjMSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.c27yQxSBea0btlLS2XPKENd5yHHlP4K5sWdLFVa0m0I`,\r\n        },\r\n      });\r\n\r\n      const randomMovie = response.data.results[Math.floor(Math.random() * response.data.results.length)];\r\n      setMovie(randomMovie);\r\n\r\n      const trailerResponse = await axios.get(`${BASE_URL}/movie/${randomMovie.id}/videos`, {\r\n        params: { language: 'en-US' },\r\n        headers: {\r\n          accept: 'application/json',\r\n          Authorization: `Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJmNzFhNjMwNTg3ODFiNDFiZTY3OTkyZjllNzdmNmRhNCIsIm5iZiI6MTcyMjI5MjgyNS4yODg3MDQsInN1YiI6IjY2YTgxOWUwNmE3ZTFhMDE5MjhjOWRjMSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.c27yQxSBea0btlLS2XPKENd5yHHlP4K5sWdLFVa0m0I`,\r\n        },\r\n      });\r\n\r\n      const trailer = trailerResponse.data.results.find(video => video.type === 'Trailer' && video.site === 'YouTube');\r\n      if (trailer) {\r\n        setTrailerUrl(`https://www.youtube.com/embed/${trailer.key}`);\r\n      } else {\r\n        setTrailerUrl('');\r\n      }\r\n\r\n    } catch (error) {\r\n      setError('Failed to load a movie. Please try again.');\r\n    } finally {\r\n      setLoading(false);\r\n      setShowDetails(true); \r\n    }\r\n  };\r\n\r\n  const handleButtonClick = (type) => {\r\n    if (attempts >= 2) {\r\n      if (type === 'trailer') {\r\n        fetchRandomMovie();\r\n      } else if (type === 'quiz') {\r\n        window.location.href = '/quiz';\r\n      }\r\n    } else {\r\n      setAttempts(attempts + 1);\r\n    }\r\n  };\r\n\r\n  const handleMouseEnter = (e) => {\r\n    if (attempts < 2) {\r\n      const button = e.target;\r\n      const buttonWidth = button.offsetWidth;\r\n      const buttonHeight = button.offsetHeight;\r\n\r\n      // bounding box for movement\r\n      const xMin = -220;\r\n      const xMax = 230;\r\n      const yMin = -240;\r\n      const yMax = 200;\r\n\r\n      const x = Math.random() * (xMax - xMin) + xMin;\r\n      const y = Math.random() * (yMax - yMin) + yMin;\r\n\r\n      button.style.transform = `translate(${x}px, ${y}px)`;\r\n    }\r\n  };\r\n\r\n  if (loading) return <div>Loading...</div>;\r\n  if (error) return <div>{error}</div>;\r\n\r\n  return (\r\n    <div className=\"surprise-me\">\r\n      <div className=\"choice-container\">\r\n        <button\r\n          className=\"choice-button\"\r\n          onClick={() => handleButtonClick('trailer')}\r\n          onMouseEnter={handleMouseEnter}\r\n        >\r\n          TRAILER TIME\r\n        </button>\r\n        <button\r\n          className=\"choice-button\"\r\n          onClick={() => handleButtonClick('quiz')}\r\n          onMouseEnter={handleMouseEnter}\r\n        >\r\n          QUIZ OR QUIT\r\n        </button>\r\n      </div>\r\n      <div className={`movie-details ${showDetails ? 'show-movie-details' : ''}`}>\r\n        {movie && (\r\n          <>\r\n            <h2>{movie.title}</h2>\r\n            <p>{movie.overview}</p>\r\n            {trailerUrl ? (\r\n              <div className=\"video-container\">\r\n                <iframe\r\n                  src={trailerUrl}\r\n                  title=\"Movie Trailer\"\r\n                  allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\r\n                  allowFullScreen\r\n                ></iframe>\r\n              </div>\r\n            ) : (\r\n              <p>Trailer not available.</p>\r\n            )}\r\n          </>\r\n        )}\r\n        <button onClick={fetchRandomMovie}>Surprise Me Again!</button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SurpriseMe;\r\n"],"names":["BASE_URL","SurpriseMe","movie","setMovie","useState","trailerUrl","setTrailerUrl","loading","setLoading","error","setError","showDetails","setShowDetails","attempts","setAttempts","fetchRandomMovie","async","categories","randomCategory","Math","floor","random","length","response","axios","get","concat","params","language","page","headers","accept","Authorization","randomMovie","data","results","trailer","id","find","video","type","site","key","handleButtonClick","window","location","href","handleMouseEnter","e","button","target","xMin","offsetWidth","offsetHeight","xMax","yMin","yMax","x","y","style","transform","_jsx","children","_jsxs","className","onClick","onMouseEnter","_Fragment","title","overview","src","allow","allowFullScreen"],"sourceRoot":""}